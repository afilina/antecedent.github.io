<!DOCTYPE html>
<html>
<head>
    <title>Patchwork</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
    <div id="main">
        <h1>Patchwork<img src="bracket.png"></h1>
        <h2>Redefine <em>user-defined</em> PHP functions at runtime. No extensions required.</h2>
        
        <div class="demos">
        
            <pre class="box top left">
<span class="comment"># 1. Define a function</span>

<span class="keyword">function</span> size<span class="bracket">(</span>$x<span class="bracket">)</span>
<span class="bracket">{</span>
    <span class="keyword">return</span> count<span class="bracket">(</span>$x<span class="bracket">)</span>;
<span class="bracket">}</span>

size<span class="bracket">(</span><span class="keyword">array</span><span class="bracket">(</span>1, 2<span class="bracket">)</span><span class="bracket">)</span>; <span class="comment"># =&gt; 2</span>
            </pre>
            <pre class="box top">
<span class="comment"># 2. Replace it with a new one</span>

<span class="keyword">use</span> Patchwork <span class="keyword">as</span> p;

p\replace<span class="bracket">(</span><span class="string">"size"</span>, <span class="keyword">function</span><span class="bracket">(</span>$x<span class="bracket">)</span>
<span class="bracket">{</span>
    <span class="keyword">return</span> <span class="string">"huge"</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

size<span class="bracket"><span class="bracket">(</span></span><span class="keyword">array</span><span class="bracket">(</span>1, 2<span class="bracket">)</span><span class="bracket">)</span>; <span class="comment"># =&gt; "huge"</span>
            </pre>
            <pre class="box top right">
<span class="comment"># 3. Undo the replacement</span>
    
p\undo<span class="bracket">(</span><span class="bracket">)</span>;

size<span class="bracket">(</span><span class="keyword">array</span><span class="bracket">(</span>1, 2<span class="bracket">)</span><span class="bracket">)</span>; <span class="comment"># => 2</span>

<span class="comment"># Note that all of these steps</span>
<span class="comment"># occur at the same runtime!</span>
            </pre>
        
        </div>
        
        <div class="box top left">
            <h3>So what does Patchwork do?</h3>
            <p>It lets you replace the definition of any user-defined function or method at runtime. This is illustrated in the above example.</p>
        </div>
        <div class="box top">
            <h3>Can't I do that by myself?</h3>
            <p>Placeholder.</p>
        </div>
        <div class="box top right">
            <h3>Isn't that what Runkit is for?</h3>
            <p>Placeholder.</p>
        </div>
        <div class="box bottom left">
            <h3>What could that be useful for?</h3>
            <p>Placeholder.</p>
        </div>
        <div class="box bottom">
            <h3>Okay, so where do I get it?</h3>
            <p>Placeholder.</p>
        </div>
        <div class="box bottom right">
            <h3>Hey, it doesn't work!</h3>
            <p>Placeholder.</p>
        </div>
    </div>
</body>
</html>
